<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#E85A71">

    <title>Two Tons of Fun - London's BIGGEST body positive POP night for chubs, chasers and admirers</title>
    
    <meta name="description" content="The ultimate body-positive club night in London for chubs, chasers, and admirers. Pop anthems, safe space, and pure joy! Get tickets now.">
    
    <link rel="canonical" href="https://twotonsoffun.co.uk/">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://twotonsoffun.co.uk/">
    <meta property="og:title" content="Two Tons of Fun | London's BIGGEST Chub &amp; Chaser Night">
    <meta property="og:description" content="The ultimate body-positive club night for chubs, chasers &amp; admirers. Pop anthems, great vibes, and pure joy!">
    <meta property="og:image" content="https://twotonsoffun.co.uk/TTOF-main-logo.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Two Tons of Fun | London's Chub &amp; Chaser Party">
    <meta name="twitter:description" content="The ultimate body-positive club night for chubs, chasers &amp; admirers.">
    <meta name="twitter:image" content="https://twotonsoffun.co.uk/TTOF-main-logo.png">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "EventSeries",
      "name": "Two Tons of Fun",
      "description": "London's biggest body-positive club night for chubs, chasers, and admirers.",
      "url": "https://twotonsoffun.co.uk",
      "image": "https://twotonsoffun.co.uk/TTOF-main-logo.png",
      "location": {
        "@type": "Place",
        "name": "London",
        "address": {
          "@type": "PostalAddress",
          "addressLocality": "London",
          "addressCountry": "UK"
        }
      },
      "organizer": {
        "@type": "Organization",
        "name": "Two Tons of Fun",
        "url": "https://twotonsoffun.co.uk"
      },
      "keywords": "Club Night, LGBTQ, Chub, Chaser, Body Positive, London Party, Pop Music"
    }
    </script>

    <script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" 
        data-cbid="b09a50c8-5ce6-473d-a771-89d29c5f0567" 
        data-blockingmode="auto" 
        type="text/javascript"></script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XJNW27P81X" 
            type="text/plain" 
            data-cookieconsent="statistics"></script>
    <script type="text/plain" data-cookieconsent="statistics">
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XJNW27P81X', { 'send_page_view': true });
    </script>

    <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" 
            defer 
            type="text/plain" 
            data-cookieconsent="marketing"></script>
            
    <script>
      window.OneSignalDeferred = window.OneSignalDeferred || [];
      OneSignalDeferred.push(async function(OneSignal) {
        await OneSignal.init({
          appId: "4479fcc3-595f-422f-8e20-e5621f971d1f",
          serviceWorkerParam: { scope: "/" },
          serviceWorkerPath: "service-worker.js",
        });
        
        OneSignal.User.PushSubscription.addEventListener("change", function(event) {
            if (event.current.optedIn) {
                console.log("OneSignal: Subscribed!");
                trackEvent('os_notification_subscribed');
            }
        });

        OneSignal.Slidedown.addEventListener("slidedownDismissed", function(wasShown) {
            console.log("OneSignal: Dismissed");
            trackEvent('os_notification_dismissed');
        });

        OneSignal.Slidedown.addEventListener("slidedownShown", function(wasShown) {
            console.log("OneSignal: Shown");
            trackEvent('os_notification_shown');
        });
      });
    </script>

    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="TTOF-main-logo.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://consent.cookiebot.com">
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://cdn.onesignal.com">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"></noscript>

    <style>
        :root {
            --color-brown: #5D3A3A;
            --color-pink: #E85A71;
            --color-yellow: #F5E6A3;
            --color-cream: #FDF8E8;
            --color-white: #FFFFFF;
            --color-black: #2D2D2D;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        /* =====================================================
           MARKETING RIBBON
        ===================================================== */
        .event-ribbon {
            position: fixed;
            top: 0; left: 0; right: 0;
            z-index: 1100;
            background: var(--color-pink);
            color: var(--color-white);
            overflow: hidden;
            height: 38px;
            display: flex;
            align-items: center;
        }

        .event-ribbon a {
            color: var(--color-white);
            text-decoration: none;
            display: flex;
            align-items: center;
            width: 100%;
        }

        .ribbon-track {
            display: flex;
            white-space: nowrap;
            animation: ribbonScroll 60s linear infinite;
            align-items: center;
        }

        .ribbon-track:hover {
            animation-play-state: paused;
        }

        .ribbon-item {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 0 40px;
            font-size: 0.88rem;
            font-weight: 700;
            font-family: 'Quicksand', sans-serif;
            letter-spacing: 0.3px;
        }

        .ribbon-item .ribbon-dot {
            display: inline-block;
            width: 6px; height: 6px;
            background: var(--color-yellow);
            border-radius: 50%;
            flex-shrink: 0;
        }

        .ribbon-item .ribbon-cta {
            background: var(--color-white);
            color: var(--color-pink);
            padding: 2px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            margin-left: 6px;
            white-space: nowrap;
        }

        @keyframes ribbonScroll {
            0%   { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background-color: var(--color-white);
            color: var(--color-black);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3, h4 {
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        .nav {
            position: fixed;
            top: 38px; left: 0; right: 0;
            background: var(--color-white);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.08);
        }

        .nav-logo { height: 50px; width: auto; }

        .nav-links { display: flex; gap: 30px; list-style: none; align-items: center; }

        .nav-links a:not(.nav-social-link) {
            text-decoration: none;
            color: var(--color-brown);
            font-weight: 600;
            font-size: 1rem;
            padding: 8px 16px;
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .nav-links a:not(.nav-social-link):hover {
            background: var(--color-pink);
            color: var(--color-white);
            transform: translateY(-2px);
        }

        .nav-links a.active {
            background: var(--color-pink);
            color: var(--color-white);
        }

        .nav-app-link {
            background: var(--color-yellow) !important;
            color: var(--color-brown) !important;
            border: 2px solid var(--color-brown);
            cursor: pointer;
        }
        
        .nav-app-link:hover {
            background: var(--color-brown) !important;
            color: var(--color-white) !important;
        }

        .nav-social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            background: var(--color-pink);
            border-radius: 50%;
            color: var(--color-white);
            text-decoration: none;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .nav-social-link:hover {
            background: var(--color-yellow);
            color: var(--color-brown);
            transform: translateY(-3px) rotate(10deg);
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            color: var(--color-brown);
        }

        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 158px 20px 60px;
            background: var(--color-white);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: ''; position: absolute; top: -100px; right: -100px;
            width: 400px; height: 400px; background: var(--color-yellow);
            border-radius: 50%; opacity: 0.3; animation: float 8s ease-in-out infinite;
        }

        .hero::after {
            content: ''; position: absolute; bottom: -50px; left: -50px;
            width: 300px; height: 300px; background: var(--color-pink);
            border-radius: 50%; opacity: 0.2; animation: float 6s ease-in-out infinite reverse;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(5deg); }
        }

        .hero-logo {
            max-width: 400px; width: 90%; height: auto;
            margin-bottom: 30px; z-index: 1;
            animation: bounceIn 1s ease-out;
        }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.3); }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { opacity: 1; transform: scale(1); }
        }

        .hero-tagline {
            font-size: 1.5rem; color: var(--color-brown); text-align: center;
            margin-bottom: 40px; z-index: 1;
            animation: fadeInUp 1s ease-out 0.3s both;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero-buttons {
            display: flex; gap: 20px; flex-wrap: wrap; justify-content: center;
            z-index: 1; animation: fadeInUp 1s ease-out 0.5s both;
        }

        .btn {
            padding: 15px 40px; font-size: 1.1rem; font-weight: 700;
            font-family: 'Quicksand', sans-serif; border: none; border-radius: 5px;
            cursor: pointer; text-decoration: none; transition: all 0.3s ease;
            display: inline-flex; align-items: center; gap: 10px;
        }

        .btn-primary {
            background: var(--color-pink); color: var(--color-white);
            box-shadow: 0 4px 15px rgba(232, 90, 113, 0.4);
        }
        .btn-primary:hover {
            background: var(--color-brown); transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(93, 58, 58, 0.4);
        }

        .btn-secondary {
            background: var(--color-yellow); color: var(--color-brown);
            box-shadow: 0 4px 15px rgba(245, 230, 163, 0.6);
        }
        .btn-secondary:hover {
            background: var(--color-brown); color: var(--color-white);
            transform: translateY(-3px);
        }

        .section { padding: 80px 20px; max-width: 1200px; margin: 0 auto; }
        .section-title { font-size: 2.5rem; text-align: center; margin-bottom: 20px; color: var(--color-brown); }
        .section-subtitle { text-align: center; color: var(--color-black); opacity: 0.8; margin-bottom: 50px; font-size: 1.1rem; }

        .about { background: linear-gradient(135deg, var(--color-cream) 0%, var(--color-white) 100%); padding: 80px 20px; }
        .about-content { max-width: 800px; margin: 0 auto; text-align: center; }
        .about-text { font-size: 1.2rem; line-height: 1.8; margin-bottom: 30px; }

        .features { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin-top: 50px; }
        .feature-card {
            background: var(--color-white); padding: 30px; border-radius: 20px;
            text-align: center; box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }
        .feature-card:hover { transform: translateY(-10px); }
        .feature-icon { font-size: 3rem; margin-bottom: 20px; }
        .feature-card h3 { color: var(--color-pink); margin-bottom: 10px; }

        .tickets { background: var(--color-white); }
        .tickets-container {
            background: var(--color-cream); border-radius: 30px; padding: 40px;
            box-shadow: 0 10px 60px rgba(0,0,0,0.1);
        }

        .newsletter { background: var(--color-pink); color: var(--color-white); padding: 80px 20px; }
        .newsletter .section-title, .newsletter .section-subtitle { color: var(--color-white); }
        .newsletter-container {
            max-width: 600px; margin: 0 auto; background: var(--color-white);
            border-radius: 20px; padding: 40px; box-shadow: 0 20px 60px rgba(0,0,0,0.2);
        }

        /* =====================================================
           MERCH SECTION
        ===================================================== */
        .merch {
            background: linear-gradient(135deg, var(--color-yellow) 0%, var(--color-cream) 100%);
            padding: 80px 20px;
        }

        .merch-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 24px;
            margin-top: 40px;
            margin-bottom: 40px;
            max-width: 1100px;
            margin-left: auto;
            margin-right: auto;
        }

        .merch-card {
            background: var(--color-white);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 8px 30px rgba(0,0,0,0.09);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-decoration: none;
            color: var(--color-black);
            display: flex;
            flex-direction: column;
        }

        .merch-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 16px 40px rgba(232,90,113,0.2);
        }

        .merch-card-img {
            width: 100%;
            aspect-ratio: 1;
            object-fit: cover;
            display: block;
            background: #f9f4ef;
        }

        .merch-card-body {
            padding: 16px;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .merch-card-name {
            font-weight: 700;
            font-size: 0.95rem;
            color: var(--color-brown);
            margin-bottom: 6px;
            line-height: 1.3;
        }

        .merch-card-price {
            font-size: 1rem;
            font-weight: 700;
            color: var(--color-pink);
        }

        .merch-cta-wrap {
            text-align: center;
            margin-top: 10px;
        }

        .footer { background: var(--color-brown); color: var(--color-white); padding: 60px 20px 30px; }
        .footer-content {
            max-width: 1200px; margin: 0 auto; display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 40px;
        }
        .footer-section h4 { font-size: 1.3rem; margin-bottom: 20px; color: var(--color-yellow); }
        .footer-section p { opacity: 0.9; margin-bottom: 10px; }

        .social-links { display: flex; gap: 15px; margin-top: 20px; }
        .social-links a {
            display: flex; align-items: center; justify-content: center;
            width: 45px; height: 45px; background: var(--color-pink);
            border-radius: 50%; color: var(--color-white); text-decoration: none;
            font-size: 1.3rem; transition: all 0.3s ease;
        }
        .social-links a:hover {
            background: var(--color-yellow); color: var(--color-brown);
            transform: translateY(-3px);
        }

        .footer-bottom {
            text-align: center; padding-top: 40px; margin-top: 40px;
            border-top: 1px solid rgba(255,255,255,0.2); opacity: 0.8;
        }

        .install-prompt {
            position: fixed; bottom: 20px; left: 20px; right: 20px;
            max-width: 400px; background: var(--color-brown); color: var(--color-white);
            padding: 20px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            display: none; z-index: 9999; animation: slideUp 0.5s ease-out;
        }
        @keyframes slideUp { from { transform: translateY(100px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        
        .install-prompt h4 { margin-bottom: 10px; color: var(--color-yellow); }
        .install-prompt p { margin-bottom: 15px; font-size: 0.95rem; }
        .install-buttons { display: flex; gap: 10px; }
        
        .install-btn { flex: 1; padding: 10px; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; font-family: 'Quicksand', sans-serif; }
        .install-btn.yes { background: var(--color-pink); color: var(--color-white); }
        .install-btn.no { background: transparent; color: var(--color-white); border: 1px solid var(--color-white); }

        @media (max-width: 768px) {
            .nav-links {
                display: none; position: absolute; top: 100%; left: 0; right: 0;
                background: var(--color-white); flex-direction: column; padding: 20px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            }
            .nav-links.active { display: flex; }
            .mobile-menu-btn { display: block; }
            .hero-logo { max-width: 280px; }
            .hero-buttons { flex-direction: column; width: 100%; padding: 0 20px; }
            .btn { width: 100%; justify-content: center; }
            .nav-social-link { width: 45px; height: 45px; margin-top: 10px; }
            .merch-grid { grid-template-columns: repeat(2, 1fr); gap: 16px; }
        }
    </style>
</head>
<body>

    <!-- MARKETING RIBBON -->
    <div class="event-ribbon" role="banner" aria-label="Upcoming events">
        <a href="https://link.outsavvy.com/twotonsoffun?utm_source=website&utm_medium=referral&utm_campaign=website-ticket-link-ribbon" 
           target="_blank" rel="noopener noreferrer" data-track="ribbon-tickets">
            <div class="ribbon-track" aria-hidden="true">
                <span class="ribbon-item">üéâ NEXT EVENTS: <strong>Fri 24/04</strong> &amp; <strong>Fri 03/07 (PRIDE!)</strong><span class="ribbon-dot"></span><span class="ribbon-cta">üéüÔ∏è Get Tickets</span></span>
                <span class="ribbon-item">üéâ NEXT EVENTS: <strong>Fri 24/04</strong> &amp; <strong>Fri 03/07 (PRIDE!)</strong><span class="ribbon-dot"></span><span class="ribbon-cta">üéüÔ∏è Get Tickets</span></span>
                <span class="ribbon-item">üéâ NEXT EVENTS: <strong>Fri 24/04</strong> &amp; <strong>Fri 03/07 (PRIDE!)</strong><span class="ribbon-dot"></span><span class="ribbon-cta">üéüÔ∏è Get Tickets</span></span>
                <span class="ribbon-item">üéâ NEXT EVENTS: <strong>Fri 24/04</strong> &amp; <strong>Fri 03/07 (PRIDE!)</strong><span class="ribbon-dot"></span><span class="ribbon-cta">üéüÔ∏è Get Tickets</span></span>
                <span class="ribbon-item">üéâ NEXT EVENTS: <strong>Fri 24/04</strong> &amp; <strong>Fri 03/07 (PRIDE!)</strong><span class="ribbon-dot"></span><span class="ribbon-cta">üéüÔ∏è Get Tickets</span></span>
                <span class="ribbon-item">üéâ NEXT EVENTS: <strong>Fri 24/04</strong> &amp; <strong>Fri 03/07 (PRIDE!)</strong><span class="ribbon-dot"></span><span class="ribbon-cta">üéüÔ∏è Get Tickets</span></span>
                <span class="ribbon-item">üéâ NEXT EVENTS: <strong>Fri 24/04</strong> &amp; <strong>Fri 03/07 (PRIDE!)</strong><span class="ribbon-dot"></span><span class="ribbon-cta">üéüÔ∏è Get Tickets</span></span>
                <span class="ribbon-item">üéâ NEXT EVENTS: <strong>Fri 24/04</strong> &amp; <strong>Fri 03/07 (PRIDE!)</strong><span class="ribbon-dot"></span><span class="ribbon-cta">üéüÔ∏è Get Tickets</span></span>
                <span class="ribbon-item">üéâ NEXT EVENTS: <strong>Fri 24/04</strong> &amp; <strong>Fri 03/07 (PRIDE!)</strong><span class="ribbon-dot"></span><span class="ribbon-cta">üéüÔ∏è Get Tickets</span></span>
                <span class="ribbon-item">üéâ NEXT EVENTS: <strong>Fri 24/04</strong> &amp; <strong>Fri 03/07 (PRIDE!)</strong><span class="ribbon-dot"></span><span class="ribbon-cta">üéüÔ∏è Get Tickets</span></span>
                <span class="ribbon-item">üéâ NEXT EVENTS: <strong>Fri 24/04</strong> &amp; <strong>Fri 03/07 (PRIDE!)</strong><span class="ribbon-dot"></span><span class="ribbon-cta">üéüÔ∏è Get Tickets</span></span>
                <span class="ribbon-item">üéâ NEXT EVENTS: <strong>Fri 24/04</strong> &amp; <strong>Fri 03/07 (PRIDE!)</strong><span class="ribbon-dot"></span><span class="ribbon-cta">üéüÔ∏è Get Tickets</span></span>
            </div>
        </a>
    </div>

    <nav class="nav">
        <a href="#home" aria-label="Two Tons of Fun Home">
            <img src="TTOF-main-logo.png" alt="Two Tons of Fun Logo" class="nav-logo" width="50" height="50">
        </a>
        <button class="mobile-menu-btn" onclick="toggleMenu()" aria-label="Toggle Menu" aria-expanded="false" aria-controls="navLinks">‚ò∞</button>
        <ul class="nav-links" id="navLinks">
            <li><a href="#home" class="active" data-track="nav-home">Home</a></li>
            <li><a href="#tickets" data-track="nav-tickets">Tickets</a></li>
            <li><a href="#newsletter" data-track="nav-newsletter">Newsletter</a></li>
            <li><a href="#merch" data-track="nav-merch">Merch</a></li>
            <li><a href="#about" data-track="nav-about">About Two Tons of Fun</a></li>
            <li><a href="javascript:void(0)" class="nav-app-link" data-track="nav-notifications" onclick="triggerNotificationsPrompt()">üîî Sign Up to Notifications</a></li>
            <li><a href="javascript:void(0)" class="nav-app-link" data-track="nav-get-app" onclick="triggerAppInstall()">üì± Get the App</a></li>
            <li>
                <a href="https://www.instagram.com/two_tons_of_fun/" 
                   class="nav-social-link" aria-label="Instagram" 
                   data-track="nav-social-instagram" target="_blank" rel="noopener noreferrer">
                   <i class="fab fa-instagram"></i>
                </a>
            </li>
            <li>
                <a href="https://www.facebook.com/TwoTonsOfFunLDN/" 
                   class="nav-social-link" aria-label="Facebook" 
                   data-track="nav-social-facebook" target="_blank" rel="noopener noreferrer">
                   <i class="fab fa-facebook-f"></i>
                </a>
            </li>
        </ul>
    </nav>

    <section class="hero" id="home">
        <h1 class="sr-only">Two Tons of Fun: London's Chub, Chaser, &amp; Admirer Club Night</h1>
        <img src="TTOF-main-logo.png" alt="Two Tons of Fun" class="hero-logo" width="400" height="400" fetchpriority="high">
        <p class="hero-tagline">London's most body-positive club night for all the Chubs, Chasers &amp; anything in-between! üéâ</p>
        <div class="hero-buttons">
            <a href="https://link.outsavvy.com/twotonsoffun?utm_source=website&utm_medium=referral&utm_campaign=website-ticket-link" 
               class="btn btn-primary" data-track="hero-buy-tickets"
               target="_blank" rel="noopener noreferrer">
                üéüÔ∏è Get Tickets
            </a>
            <a href="#newsletter" class="btn btn-secondary" data-track="hero-newsletter">
                üíå Sign Up To Our Newsletter
            </a>
        </div>
    </section>

    <section class="tickets" id="tickets">
        <div class="section">
            <h2 class="section-title">Grab Your Tickets Now!</h2>
            <p class="section-subtitle">Don't miss out on the fun!</p>
            <div class="tickets-container">
                <div id="outsavvy-widget-ticketshop-1874"></div>
                <script src="https://www.outsavvy.com/widgets/widget.js?version=2"></script>
                <script type="text/javascript">
                    window.OSWidgets.createWidget({
                        widgetType: 'ticketshop',
                        partnerId: '1874',
                        iframeContainerId: 'outsavvy-widget-ticketshop-1874',
                        iframeContainerHeight: '800px'
                    });
                </script>
            </div>
        </div>
    </section>

    <section class="newsletter" id="newsletter">
        <div class="section">
            <h2 class="section-title">Stay in the Loop!</h2>
            <p class="section-subtitle">Be the first to know about events, early bird tickets &amp; exclusive offers</p>
            <div class="newsletter-container">
                <iframe width="540" height="700" src="https://64e25386.sibforms.com/serve/MUIFAGw8aUGNjrjUYCrZq-6_KQcFuESTjB8C-ka0B516sRoeH6nGpCoDhtpWnpQr5ELLj9cqXfbppvFUMRgP3v_P5DKRjJcWgPv-_pgV24KKHfd7iUukk2nTIAKiUeWW_xgVTekU9Am3weJCYMif6sOOH9cIefgLnb6DcAs-QIf-RnlNe-MGIqZE2Eii51r1z20ApBshJutpW1_m4g==" frameborder="0" scrolling="auto" allowfullscreen loading="lazy" title="Newsletter signup form" style="display: block;margin-left: auto;margin-right: auto;max-width: 100%;"></iframe>
            </div>
        </div>
    </section>

    <!-- MERCH SECTION -->
    <section class="merch" id="merch">
        <div class="section">
            <h2 class="section-title">Official Merch üëï</h2>
            <p class="section-subtitle">Rep your favourite chub &amp; chaser night ‚Äî tees, caps, pins &amp; more through our amazing partner KWEEN!</p>
            <div class="merch-grid">
                <a class="merch-card" href="https://kween.shop/products/two-tons-of-fun-unisex-classic-tee?variant=52609193705813" target="_blank" rel="noopener noreferrer" data-track="merch-classic-tee">
                    <img class="merch-card-img" src="https://kween.shop/cdn/shop/files/unisex-classic-tee-black-front-6998fa8067493.png?v=1771633297&width=600" alt="Two Tons of Fun Unisex Classic Tee" loading="lazy">
                    <div class="merch-card-body">
                        <div class="merch-card-name">Unisex Classic Tee</div>
                        <div class="merch-card-price">¬£15.00</div>
                    </div>
                </a>
                <a class="merch-card" href="https://kween.shop/products/two-tons-of-fun-mens-tank-top?variant=52609189249365" target="_blank" rel="noopener noreferrer" data-track="merch-tank-top">
                    <img class="merch-card-img" src="https://kween.shop/cdn/shop/files/mens-staple-tank-top-black-front-6998f93473688.png?v=1771632969&width=600" alt="Two Tons of Fun Men's Tank Top" loading="lazy">
                    <div class="merch-card-body">
                        <div class="merch-card-name">Men's Tank Top</div>
                        <div class="merch-card-price">¬£19.00</div>
                    </div>
                </a>
                <a class="merch-card" href="https://kween.shop/products/two-tons-of-fun-embroidery-trucker-cap?variant=52609393426773" target="_blank" rel="noopener noreferrer" data-track="merch-trucker-cap">
                    <img class="merch-card-img" src="https://kween.shop/cdn/shop/files/retro-trucker-hat-black-white-front-69990279e73cb.jpg?v=1771635333&width=600" alt="Two Tons of Fun Embroidery Trucker Cap" loading="lazy">
                    <div class="merch-card-body">
                        <div class="merch-card-name">Embroidery Trucker Cap</div>
                        <div class="merch-card-price">¬£19.00</div>
                    </div>
                </a>
                <a class="merch-card" href="https://kween.shop/products/two-tons-of-fun-set-of-pin-buttons?variant=52609255047509" target="_blank" rel="noopener noreferrer" data-track="merch-pin-buttons">
                    <img class="merch-card-img" src="https://kween.shop/cdn/shop/files/set-of-pin-buttons-white-2.25-front-69990152bac26.jpg?v=1771635044&width=600" alt="Two Tons of Fun Set of Pin Buttons" loading="lazy">
                    <div class="merch-card-body">
                        <div class="merch-card-name">Set of Pin Buttons</div>
                        <div class="merch-card-price">¬£10.00</div>
                    </div>
                </a>
            </div>
            <div class="merch-cta-wrap">
                <a href="https://kween.shop/collections/two-tons-of-fun" class="btn btn-primary" target="_blank" rel="noopener noreferrer" data-track="merch-shop-all">
                    üõçÔ∏è Shop All Merch on kween.shop
                </a>
            </div>
        </div>
    </section>

    <section class="about" id="about">
        <div class="section">
            <h2 class="section-title">What is Two Tons of Fun?</h2>
            <div class="about-content">
                <p class="about-text">
                    Since its inception in 2021, Two Tons of Fun has been standing by its mission statement: creating a <b>safe and inclusive space for chubs, chasers and admirers</b> who want to party and have a good time.
                    <br>Named after <b>the iconic duo "The Weather Girls"</b>, we have been prouding ourselves in making the club night the ultimate celebration of body positivity, pop music,
                    and unforgettable vibes.
                    <br>At Two Tons of Fun, you can be yourself, you can feel fabulous just the way you are, and you can... simply <b>have the time of your life!</b>
                </p>
                <h3 style="text-align:center; margin-top:20px; color:var(--color-pink);">Chub? Chasers? Big? Small? You're all welcome!</h3>
            </div>
            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon">üéµ</div>
                    <h3>Amazing POP Anthems</h3>
                    <p>The best of what Pop Music can offer to keep you dancing all night long</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üíñ</div>
                    <h3>Body Positive</h3>
                    <p>A safe space where every body is celebrated</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üéâ</div>
                    <h3>Unforgettable Vibes</h3>
                    <p>Themed nights, doughnuts, and pure joy!</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Two Tons of Fun</h4>
                <p>London's most body-positive club night!</p>
                <p>Where every body is welcome. üíñ</p>
            </div>
            <div class="footer-section">
                <h4>Follow Us!</h4>
                <p>Stay connected for the latest updates!</p>
                <div class="social-links">
                    <a href="https://www.instagram.com/two_tons_of_fun/" aria-label="Instagram" 
                       data-track="social-instagram" target="_blank" rel="noopener noreferrer">
                       <i class="fab fa-instagram"></i>
                    </a>
                    <a href="https://www.facebook.com/TwoTonsOfFunLDN/" aria-label="Facebook" 
                       data-track="social-facebook" target="_blank" rel="noopener noreferrer">
                       <i class="fab fa-facebook-f"></i>
                    </a>
                </div>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <p>üìß team@twotonsoffun.co.uk</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2026 Two Tons of Fun. Made with üíñ</p>
        </div>
    </footer>

    <div class="install-prompt" id="installPrompt">
        <h4>üì± Install Our App!</h4>
        <p>Add Two Tons of Fun to your home screen for the best experience and push notifications!</p>
        <div class="install-buttons">
            <button class="install-btn yes" onclick="installApp()">Install</button>
            <button class="install-btn no" onclick="dismissInstall()">Not Now</button>
        </div>
    </div>

    <script>
        // =====================================================
        // CRITICAL: Defined first so available on page load
        // =====================================================

        function toggleMenu() {
            const navLinks = document.getElementById('navLinks');
            const menuBtn = document.querySelector('.mobile-menu-btn');
            navLinks.classList.toggle('active');
            const isOpen = navLinks.classList.contains('active');
            menuBtn.setAttribute('aria-expanded', isOpen);
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const navLinks = document.getElementById('navLinks');
                const menuBtn = document.querySelector('.mobile-menu-btn');
                if (navLinks.classList.contains('active')) {
                    navLinks.classList.remove('active');
                    menuBtn.setAttribute('aria-expanded', 'false');
                    menuBtn.focus();
                }
            }
        });

        // =====================================================
        // TOAST NOTIFICATION (non-blocking, replaces alert)
        // =====================================================
        function showToast(message, duration = 3500) {
            const existing = document.getElementById('ttof-toast');
            if (existing) existing.remove();
            const toast = document.createElement('div');
            toast.id = 'ttof-toast';
            toast.textContent = message;
            toast.style.cssText = [
                'position:fixed', 'bottom:90px', 'left:50%', 'transform:translateX(-50%)',
                'background:var(--color-brown)', 'color:var(--color-white)',
                'padding:12px 24px', 'border-radius:30px',
                "font-family:'Quicksand',sans-serif", 'font-weight:700', 'font-size:0.95rem',
                'z-index:99999', 'box-shadow:0 6px 24px rgba(0,0,0,0.25)',
                'white-space:nowrap', 'pointer-events:none', 'transition:opacity 0.4s'
            ].join(';');
            document.body.appendChild(toast);
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 400);
            }, duration);
        }

        // =====================================================
        // NOTIFICATIONS PROMPT
        // =====================================================
        function triggerNotificationsPrompt() {
            trackEvent('nav_notifications_click');

            // Close mobile menu immediately
            document.getElementById('navLinks').classList.remove('active');
            document.querySelector('.mobile-menu-btn').setAttribute('aria-expanded', 'false');

            if (typeof OneSignalDeferred === 'undefined') {
                showToast('Notifications unavailable right now ‚Äî try again in a moment!');
                return;
            }

            OneSignalDeferred.push(function(OneSignal) {
                if (OneSignal.User.PushSubscription.optedIn) {
                    showToast('You\'re already subscribed to notifications! üîî');
                    trackEvent('nav_notifications_already_subscribed');
                    return;
                }
                trackEvent('nav_notifications_prompt_triggered');
                OneSignal.Slidedown.promptPush({ force: true });
            });
        }

        // =====================================================
        // APP INSTALL
        // =====================================================
        function triggerAppInstall() {
            trackEvent('nav_get_app_click');
            
            if (deferredPrompt) {
                trackEvent('nav_get_app_pwa_available');
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        trackEvent('nav_get_app_installed');
                    } else {
                        trackEvent('nav_get_app_dismissed');
                    }
                    deferredPrompt = null;
                });
            } else {
                trackEvent('nav_get_app_pwa_not_available');
                document.getElementById('installPrompt').style.display = 'block';
            }
            
            document.getElementById('navLinks').classList.remove('active');
            document.querySelector('.mobile-menu-btn').setAttribute('aria-expanded', 'false');
        }

        // =====================================================
        // CONFIGURATION
        // =====================================================
        const CONFIG = {
            oneSignal: {
                firstVisitDelay: 4000,
                returnVisitDelay: 2000,
                backoffDays: 7
            },
            pwa: {
                delayAfterOneSignal: 5000,
                backoffDays: 7
            }
        };

        // =====================================================
        // TRACKING (GA4)
        // =====================================================
        function trackEvent(eventName, params = {}) {
            if (typeof gtag === 'function') {
                gtag('event', eventName, params);
                console.log('Tracking Event: ' + eventName, params);
            } else {
                console.log('Simulated Track: ' + eventName, params);
            }
        }

        function trackPageView(urlPath) {
            if (typeof gtag === 'function') {
                gtag('event', 'page_view', {
                    page_path: urlPath,
                    page_location: window.location.href,
                    page_title: document.title
                });
                console.log('Tracking PageView: ' + urlPath);
            }
        }

        document.addEventListener('click', (e) => {
            const trackable = e.target.closest('[data-track]');
            if (trackable) {
                const action = trackable.getAttribute('data-track');
                const isOutbound = trackable.hostname && trackable.hostname !== window.location.hostname;
                trackEvent('click_engagement', {
                    element_id: action,
                    is_outbound: isOutbound,
                    destination: trackable.href || 'internal'
                });
            }
        });

        // =====================================================
        // SMOOTH SCROLL ‚Äî offset-aware for fixed ribbon + nav
        // ribbon: 38px, nav: ~80px
        // =====================================================
        const SCROLL_OFFSET = 118;

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (!href || href === '#' || href.length <= 1) return;
                try {
                    const target = document.querySelector(href);
                    if (target) {
                        e.preventDefault();
                        const top = target.getBoundingClientRect().top + window.scrollY - SCROLL_OFFSET;
                        window.scrollTo({ top: top, behavior: 'smooth' });
                        trackEvent('section_view', { section: href });
                        trackPageView(href);
                        document.getElementById('navLinks').classList.remove('active');
                        document.querySelector('.mobile-menu-btn').setAttribute('aria-expanded', 'false');
                    }
                } catch (err) {
                    // Invalid selector ‚Äî ignore silently
                }
            });
        });

        // =====================================================
        // SCROLL ACTIVE STATE
        // Excludes .nav-app-link buttons from active highlighting
        // =====================================================
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section');
            const navLinks = document.querySelectorAll('.nav-links a:not(.nav-app-link)');
            let current = '';
            sections.forEach(section => {
                if (window.scrollY >= section.offsetTop - SCROLL_OFFSET - 10) {
                    current = section.getAttribute('id');
                }
            });
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) link.classList.add('active');
            });
        });

        // =====================================================
        // SMART PROMPT LOGIC
        // =====================================================
        function hasPassedDays(timestamp, days) {
            if (!timestamp) return true;
            const difference = Date.now() - parseInt(timestamp);
            return difference > (days * 24 * 60 * 60 * 1000);
        }

        function initSmartPrompts() {
            const hasVisited = localStorage.getItem('ttof_has_visited');
            let osDelay = hasVisited ? CONFIG.oneSignal.returnVisitDelay : CONFIG.oneSignal.firstVisitDelay;
            localStorage.setItem('ttof_has_visited', 'true');
            console.log('User status: ' + (hasVisited ? 'Returning' : 'First Visit') + '. Waiting ' + osDelay + 'ms.');
            setTimeout(tryOneSignalPrompt, osDelay);
        }

        function tryOneSignalPrompt() {
            if (typeof OneSignalDeferred === 'undefined') return;
            window.OneSignalDeferred = window.OneSignalDeferred || [];
            OneSignalDeferred.push(function(OneSignal) {
                if (OneSignal.User.PushSubscription.optedIn) {
                    startAppInstallTimer();
                    return;
                }
                const lastShown = localStorage.getItem('ttof_os_last_shown');
                if (!hasPassedDays(lastShown, CONFIG.oneSignal.backoffDays)) {
                    console.log('OneSignal backoff active. Skipping.');
                    startAppInstallTimer();
                    return;
                }
                console.log('Requesting OneSignal Prompt...');
                OneSignal.Slidedown.promptPush();
                localStorage.setItem('ttof_os_last_shown', Date.now().toString());
                startAppInstallTimer();
            });
        }

        function startAppInstallTimer() {
            setTimeout(tryAppInstallPrompt, CONFIG.pwa.delayAfterOneSignal);
        }

        // =====================================================
        // PWA LOGIC
        // =====================================================
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            console.log('App install eligible.');
        });

        function tryAppInstallPrompt() {
            if (!deferredPrompt) return;
            const lastDismissed = localStorage.getItem('ttof_pwa_dismissed');
            if (!hasPassedDays(lastDismissed, CONFIG.pwa.backoffDays)) {
                console.log('App install backoff active.');
                return;
            }
            document.getElementById('installPrompt').style.display = 'block';
            trackEvent('pwa_prompt_shown');
        }

        function installApp() {
            if (deferredPrompt) {
                trackEvent('pwa_install_click_yes');
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        trackEvent('pwa_install_accepted_browser');
                    } else {
                        trackEvent('pwa_install_dismissed_browser');
                    }
                    deferredPrompt = null;
                    document.getElementById('installPrompt').style.display = 'none';
                });
            }
        }

        function dismissInstall() {
            trackEvent('pwa_install_click_no');
            document.getElementById('installPrompt').style.display = 'none';
            localStorage.setItem('ttof_pwa_dismissed', Date.now().toString());
        }

        // =====================================================
        // INITIALIZATION
        // =====================================================
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js');
            });
        }

        window.addEventListener('CookiebotOnAccept', () => initSmartPrompts());
        window.addEventListener('CookiebotOnDecline', () => initSmartPrompts());

        window.addEventListener('load', function() {
            if (typeof Cookiebot !== 'undefined' && Cookiebot.consented) {
                initSmartPrompts();
            }
        });
    </script>
</body>
</html>
